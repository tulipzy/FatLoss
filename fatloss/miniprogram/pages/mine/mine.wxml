<view class="mine-container">
  <!-- 顶部用户信息栏 -->
  <view class="user-header" bindtap="onAvatarTap"> 
    <image 
      class="avatar" 
      src="{{userInfo.avatarUrl}}" 
      mode="aspectFill"
    ></image>
    <view class="user-meta">
      <text class="nickname">{{userInfo.nickname || '用户昵称'}}</text>
      <view class="user-stats">
        <text class="stat-item">积分: {{userInfo.points || 0}}</text>
        <view class="stat-item badge-item" bindtap="onBadgesTap">
          <text>徽章: {{userInfo.badges || 0}}</text>
          <text class="badge-icon">🏆</text> 
        </view>
      </view>
    </view>
  </view>

  <!-- 个人信息区域 -->
  <view class="settings-section">
    <view class="section-title">个人信息</view>
    <view class="settings-list">
      <view class="list-item" bindtap="onAvatarTap">
        <view class="item-left">
          <text>基本资料</text>
        </view>
        <text class="arrow">></text>
      </view>
      
    
    </view>
  </view>

  <!-- 能量数据区域（新增tdee展示） -->
  <view class="settings-section">
    <view class="section-title">能量数据</view>
    <view class="settings-list">
      <view class="list-item" bindtap="setCalorieGoal">
        <view class="item-left">
          <text>每日热量目标</text>
        </view>
        <view class="item-right">
          <text>{{userInfo.calorieGoal || 1800}} kcal</text>
          
        </view>
      </view>
      <view class="list-item">
        <view class="item-left">
          <text>每日总消耗</text>
        </view>
        <view class="item-right">
          <text>{{userInfo.tdee || 0}} kcal</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 记录查看区域 -->
  <view class="settings-section">
    <view class="section-title">我的记录</view>
    <view class="settings-list">
      <view class="list-item" bindtap="onHistoryDietTap">
        <view class="item-left">
          <text>历史饮食</text> 
          <view class="function-icon">🍽️</view>
        </view>
        <text class="arrow">></text>
      </view>
      <view class="list-item" bindtap="viewExerciseHistory">
        <view class="item-left">
          <text>运动记录</text>
          <view class="function-icon">🏋️</view>
        </view>
        <text class="arrow">></text>
      </view>
    </view>
  </view>

  <!-- 系统设置区域 -->
  <view class="settings-section">
    <view class="section-title">系统设置</view>
    <view class="settings-list">
      <view class="list-item" bindtap="logout">
        <view class="item-left">
          <text class="logout-text">退出登录</text>
        </view>
        <text class="arrow">></text>
      </view>
    </view>
  </view>
</view>