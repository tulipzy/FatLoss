<view class="personal-info-container">
  <!-- 头像区域 -->
  <view class="avatar-section">
    <image class="avatar" src="{{userInfo.avatarUrl}}"></image>
    <text class="change-avatar" bindtap="chooseAvatar">更换头像</text>
  </view>

  <!-- 信息表单区域 -->
  <form bindsubmit="saveInfo">
    <!-- 昵称 -->
    <view class="form-item">
      <label class="item-label">昵称</label>
      <input class="item-input" 
             name="nickname" 
             value="{{userInfo.nickName}}" 
             placeholder="请输入昵称" 
             bindinput="updateNickname" />
    </view>

 <!-- 性别 -->
<view class="form-item">
  <label class="item-label">性别</label>
  <picker mode="selector" 
          range="{{genders}}" 
          value="{{genderIndex}}" 
          bindchange="onGenderChange">
    <!-- 绑定到 genderIndex，而非 userInfo.gender -->
    <view class="picker-view">
      {{genders[genderIndex]}}
    </view>
  </picker>
</view>

    <!-- 年月 -->
    <view class="form-item">
      <label class="item-label">年月</label>
      <picker mode="date" 
              value="{{userInfo.birthday}}" 
              start="1900-01-01" 
              end="2100-12-31" 
              bindchange="onBirthdayChange">
        <view class="picker-view">
          {{userInfo.birthday}}  <!-- 直接渲染绑定段 -->
        </view>
      </picker>
    </view>

    <!-- 身高 -->
    <view class="form-item">
      <label class="item-label">身高</label>
      <input class="item-input" 
             name="height" 
             value="{{userInfo.height}}" 
             placeholder="请输入身高" 
             type="number" 
             bindinput="updateHeight" />
    </view>

    

 <!-- 体重选择器 -->
 <view class="form-item">
      <label class="item-label">当前体重（kg）</label>
      <picker mode="selector" range="{{weightOptions}}" bindchange="onWeightChange" value="{{weightIndex}}">
        <view class="picker-view">{{weightOptions[weightIndex]}} kg</view>
      </picker>
    </view>


<!-- 新增目标体重选择器 -->
<view class="form-item">
  <label class="item-label">目标体重（kg）</label>
  <picker mode="selector" range="{{targetWeightOptions}}" bindchange="onTargetWeightChange" value="{{targetWeightIndex}}">
    <view class="picker-view">{{targetWeightOptions[targetWeightIndex]}} kg</view>
  </picker>
</view>

    <!-- 保存按钮 -->
    <button formType="submit" class="save-btn">保存</button>
  </form>
</view>