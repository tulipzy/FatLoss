<view class="result-container">
  <!-- 图片预览 -->
  <image class="result-image" src="{{previewImage}}" mode="widthFix"></image>

  <!-- 识别食物名称 -->
  <text class="result-title" wx:if="{{dishName}}">识别食物：{{dishName}}</text>

  <!-- 食物重量 -->
  <text class="result-desc" wx:if="{{weight}}">估算重量：{{weight.toFixed(2)}} g</text>

  <!-- 热量信息 -->
  <text class="result-desc" wx:if="{{calorie}}">热量：{{calorie.toFixed(2)}} 千卡</text>

  <!-- 营养成分 -->
  <view class="nutrition" wx:if="{{nutrition}}">
    <text class="nutrition-item">蛋白质：{{nutrition.protein.toFixed(2)}} g</text>
    <text class="nutrition-item">碳水化合物：{{nutrition.carbs.toFixed(2)}} g</text>
    <text class="nutrition-item">脂肪：{{nutrition.fat.toFixed(2)}} g</text>
    <text class="nutrition-item">膳食纤维：{{nutrition.fiber.toFixed(2)}} g</text>
  </view>

  <!-- 操作按钮 -->
  <view class="button-group">
    <button class="edit-button" bindtap="onEditData">编辑数据</button>
    <button class="record-button" bindtap="onAddToRecord">添加到饮食记录</button>
  </view>

  <!-- 编辑数据弹窗 -->
  <view class="edit-modal" wx:if="{{showEditModal}}">
    <view class="edit-modal-content">
      <!-- 弹窗标题 -->
      <text class="edit-modal-title">编辑识别数据</text>
      <!-- 照片展示 -->
      <image class="edit-modal-image" src="{{previewImage}}" mode="widthFix"></image>
      <!-- 食物名称输入框 -->
      <view class="edit-item">
        <text class="edit-label">食物：</text>
        <input class="edit-input" value="{{dishName}}" bindinput="onDishNameInput" placeholder="请输入食物名称" />
      </view>
      <!-- 热量输入框 -->
      <view class="edit-item">
        <text class="edit-label">热量：</text>
        <input class="edit-input" value="{{calorie.toFixed(2)}}" bindinput="onCalorieInput" placeholder="请输入热量（千卡）" type="number" />
      </view>
      <!-- 份量输入框 -->
      <view class="edit-item">
        <text class="edit-label">份量：</text>
        <input class="edit-input" value="{{portion}}" bindinput="onPortionInput" placeholder="请输入份量" type="number" />
      </view>
      <!-- 操作按钮 -->
      <view class="edit-button-group">
        <button class="edit-cancel" bindtap="onCancelEdit">取消</button>
        <button class="edit-confirm" bindtap="onConfirmEdit">确定</button>
      </view>
    </view>
  </view>
</view>