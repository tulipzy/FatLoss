<view class="data-page" style="width: 747rpx; display: flex; box-sizing: border-box; left: 0rpx; top: 0rpx">
  <view class="title">æˆ‘çš„æ•°æ®</view>
  <view class="loading-tip" wx:if="{{isLoading}}">åŠ è½½ä¸­...</view>

  <!-- æˆ‘çš„æ•°æ®æ¨¡å— (é¡¶éƒ¨) -->
  <view class="data-summary-card" wx:else style="position: relative; left: 0rpx; top: -18rpx">
    <!-- çŠ¶æ€æ  -->
    <view class="status-section">
      <span class="status-icon">âœ…</span>
      <span class="status-title">ä»Šæ—¥çŠ¶æ€</span>
      <span class="status-tag">å·²æ‰“å¡</span>
      <span class="status-time">{{checkInStatus.time}}</span>
    </view>

    <!-- æ•°æ®ä¸‰åˆ— -->
    <view class="metric-grid">
      <view class="data-col weight">
        <div class="data-value">{{weightData.current}}<span class="unit">kg</span></div>
        <div class="data-sub">â–¼{{weightData.change}}kg</div>
      </view>

      <view class="data-col calorie">
        <div class="data-value">{{calorieData.diff}}<span class="unit">kcal</span></div>
        <div class="data-sub">{{calorieData.intake}}/{{calorieData.consume}}</div>
      </view>

      <view class="data-col checkin">
        <div class="data-value">{{checkInData.days}}<span class="unit">å¤©</span></div>
        <div class="data-sub">{{checkInData.target}}å¤©ç›®æ ‡</div>
      </view>
    </view>

    <!-- è¿›åº¦åŒºåŸŸ -->
<view class="progress-section">
  <view class="progress-col checkin">
    <div class="progress-label">æ‰“å¡</div>
    <div class="progress-value">{{checkInData.progress}}%</div>
    <!-- ä¿®å¤ï¼šç¡®ä¿æ ·å¼å±æ€§æ­£ç¡®ç»“æŸå¹¶æ·»åŠ åˆ†å· -->
    <div class="mini-progress checkin-progress" style="width: {{checkInData.progress}}"></div>
</view>
      <view class="progress-col weight">
        <div class="progress-label">ä½“é‡</div>
        <div class="progress-value">{{weightData.progress}}%</div>
        <div class="mini-progress weight-progress" style="width: {{weightData.progress}}"></div>
      </view>

      <view class="progress-col calorie">
        <div class="progress-label">çƒ­é‡</div>
        <div class="progress-value">{{calorieData.progress}}%</div>
        <div class="mini-progress calorie-progress" style="width: {{calorieData.progress}}"></div>
      </view>
    </view>

    <!-- åº•éƒ¨æ‘˜è¦ -->
    <view class="summary-bar" style="position: relative; left: 0rpx; top: -27rpx">
      <view class="summary-item" style="position: relative; left: 0rpx; top: 0rpx">å·²å‡<strong>{{weightData.initial - weightData.current}}kg</strong></view>
      <view class="summary-item" style="position: relative; left: 0rpx; top: 0rpx">è·ç›®æ ‡<strong>{{weightData.current - weightData.target}}kg</strong></view>
      <view class="summary-item" style="position: relative; left: 0rpx; top: 0rpx">ğŸš¶<strong>15åˆ†é’Ÿ</strong></view>
    </view>
  </view>

  <!-- çƒ­é‡è¯¦æƒ…æ¨¡å— (åº•éƒ¨) -->
  <view class="calorie-detail-card">
    <!-- é¡¶éƒ¨æ¦‚è§ˆ -->
    <view class="calorie-overview">
      <div class="overview-title">æ¯æ—¥çƒ­é‡æ‘„å…¥ä¸æ¶ˆè€—</div>
      <div class="calorie-gap">
        <span class="gap-value">+{{calorieData.diff}}</span>
        <span class="gap-label">çƒ­é‡ç¼ºå£</span>
      </div>
    </view>

    <!-- æ‘„å…¥æ¶ˆè€—å¯¹æ¯” -->
    <view class="intake-consumption-comparison">
      <view class="comparison-col intake">
        <div class="comparison-value" style="position: relative; left: 0rpx; top: -24rpx">æ‘„å…¥: {{calorieData.intake}}kcal</div>
        <div class="comparison-target">ç†æƒ³1400-1600</div>
      </view>
      <view class="comparison-col consume">
        <div class="comparison-value" style="position: relative; left: 0rpx; top: -24rpx">æ¶ˆè€—: {{calorieData.consume}}kcal</div>
        <div class="comparison-target">ç›®æ ‡1800kcal</div>
      </view>
    </view>

    <!-- æ¥æºå¯¹æ¯” -->
    <view class="source-comparison" style="position: relative; left: 0rpx; top: -201rpx">
      

      <view class="source-list" style="position: relative; left: 0rpx; top: -170rpx">
        <!-- ç¬¬ä¸€è¡Œ -->
        <div class="source-row">
          <div class="source-item intake" style="position: relative; left: 0rpx; top: 291rpx">
            <div class="source-name">æ—©é¤</div>
            <div class="source-desc">é¸¡è›‹+ç‡•éº¦</div>
            <div class="source-calorie">400kcal</div>
          </div>
          <div class="source-item consume" style="position: relative; left: -16rpx; top: 291rpx">
            <div class="source-name">åŸºç¡€ä»£è°¢</div>
            <div class="source-desc">æ—¥å¸¸ç”Ÿå‘½æ´»åŠ¨</div>
            <div class="source-calorie">1200kcal</div>
          </div>
        </div>

        <!-- ç¬¬äºŒè¡Œ -->
        <div class="source-row">
          <div class="source-item intake" style="position: relative; left: 0rpx; top: 279rpx">
            <div class="source-name">åˆé¤</div>
            <div class="source-desc">é¸¡èƒ¸è‚‰æ²™æ‹‰</div>
            <div class="source-calorie">550kcal</div>
          </div>
          <div class="source-item consume" style="position: relative; left: 0rpx; top: 279rpx">
            <div class="source-name">è¿åŠ¨æ¶ˆè€—</div>
            <div class="source-desc">è¿åŠ¨æ—¶é•¿è¾¾æ ‡</div>
            <div class="source-calorie">450kcal</div>
          </div>
        </div>

        <!-- ç¬¬ä¸‰è¡Œ -->
        <div class="source-row" style="position: relative; left: 0rpx; top: -124rpx">
          
          <div class="source-item consume" style="position: relative; left: 301rpx; top: 412rpx">
            <div class="source-name">æ—¥å¸¸æ´»åŠ¨</div>
            <div class="source-desc" style="position: relative; left: 0rpx; top: 16rpx">å¤šèµ°æ¥¼æ¢¯å¢åŠ æ¶ˆè€—</div>
            <div class="source-calorie" style="position: absolute; left: 175rpx; top: 57rpx">200kcal</div>
          </div>
        </div>

        <!-- ç¬¬å››è¡Œ -->
        <div class="source-row" style="position: relative; left: 0rpx; top: -147rpx">
          <div class="source-item intake warning" style="position: relative; left: 0rpx; top: 302rpx">
            <div class="source-name">æ™šé¤</div>
            <div class="source-desc" style="position: relative; left: 0rpx; top: 17rpx">å»ºè®®æ§åˆ¶å æ¯”30%</div>
            <div class="source-calorie">350kcal</div>
          </div>
          
        </div>
      </view>
    </view>
  </view>
</view>