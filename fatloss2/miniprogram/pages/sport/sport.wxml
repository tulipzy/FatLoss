<!--pages/sport/sport.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨ç”¨æˆ·ä¿¡æ¯ -->
  <view class="header">
    <view class="title" style="position: relative; left: -162rpx; top: 0rpx">ä»Šæ—¥ç›®æ ‡ï¼šå‡è„‚è®­ç»ƒ</view>
    <view class="user-level">
      <text style="position: relative; left: 188rpx; top: -38rpx">Lv.{{userData.level}}</text>
      <text class="level-name" style="position: relative; left: 179rpx; top: 3rpx">å¥èº«è¾¾äºº</text>
      <view class="exp-bar">
        <view class="exp-progress" style="{{'width: ' + progress + '%;'}}"></view>
      </view>
      <text class="exp-text" style="position: relative; left: 167rpx; top: 1rpx">{{userData.experience}}/{{userData.nextLevelExp}}ç»éªŒ</text>
    </view>
  </view>
  
  <!-- æ•°æ®å¡ç‰‡åŒºåŸŸ -->
  <view class="data-cards">
    <view class="data-card" style="width: 211rpx; height: 174rpx; display: block; box-sizing: border-box">
      <text class="data-label">å·²æ¶ˆè€—</text>
      <text class="data-value">1200 åƒå¡</text>
    </view>
    <view class="data-card" style="width: 174rpx; height: 174rpx; display: block; box-sizing: border-box">
      <text class="data-label">è®­ç»ƒæ—¶é•¿</text>
      <text class="data-value">45 åˆ†é’Ÿ</text>
    </view>
    <view class="data-card" style="width: 183rpx; height: 174rpx; display: block; box-sizing: border-box">
      <text class="data-label">å®Œæˆç»„æ•°</text>
      <text class="data-value">3 ç»„</text>
    </view>
  </view>
  
  <!-- å¡è·¯é‡Œæ¶ˆè€—æ›²çº¿ -->
  <view class="chart-container">
    <canvas canvas-id="calories-chart" id="calories-chart"></canvas>
  </view>
  
  <!-- æŒ‘æˆ˜è®¡æ—¶å™¨ -->
  <view class="challenge-timer">
    <text>æŒ‘æˆ˜å‰©ä½™æ—¶é—´: {{challengeTimer}}</text>
  </view>
  
  <!-- æ§åˆ¶æŒ‰é’® -->
  <view class="control-buttons">
    <button class="complete-btn" id="completeSetBtn" bindtap="completeSet">âœ“ å®Œæˆç»„</button>
  </view>
  
  <!-- å•†åº—åŒºåŸŸ -->
  <view class="shop-section">
    <view class="section-title">
      <text>å•†åº—</text>
      <text class="diamond-count">ğŸ’ {{userData.diamonds}}</text>
    </view>
    
    <view class="shop-items">
      <view class="shop-item" id="item-è®­ç»ƒè®¡åˆ’" bindtap="purchaseItem" data-cost="80" data-name="è®­ç»ƒè®¡åˆ’">
        <text>1å‘¨ä¸“ä¸šè®­ç»ƒè®¡åˆ’</text>
        <text>ğŸ’ 80</text>
      </view>
      <view class="shop-item" id="item-é¥®é£ŸæŒ‡å—" bindtap="purchaseItem" data-cost="120" data-name="é¥®é£ŸæŒ‡å—">
        <text>å‡è„‚é¥®é£ŸæŒ‡å—</text>
        <text>ğŸ’ 120</text>
      </view>
    </view>
  </view>
  
  <!-- å¥½å‹æ’è¡Œæ¦œ -->
  <view class="friends-rank">
    <view class="section-title">
      <text>å¥½å‹æ’è¡Œæ¦œ</text>
      <text class="add-friend">+ æ·»åŠ å¥½å‹</text>
    </view>
    
    <block wx:for="{{userData.friends}}" wx:key="name">
      <view class="rank-item">
        <text class="rank-number">{{index + 1}}</text>
        <image class="rank-avatar" src="{{item.avatar}}"></image>
        <view class="rank-info">
          <text class="rank-name">{{item.name}}</text>
          <text class="rank-meta">æœ¬å‘¨è®­ç»ƒ: {{item.minutes}}åˆ†é’Ÿ</text>
        </view>
        <text class="rank-calories">{{item.calories}}åƒå¡</text>
      </view>
    </block>
  </view>
</view>