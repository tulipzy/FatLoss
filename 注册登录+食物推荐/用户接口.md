# 用户注册登录接口

- ## 1.判断用户名是否存在（唯一用户名）

  ### GET请求

  [localhost:9090/user/checkUsername?username=user2](http://localhost:9090/user/checkUsername?username=user2)

  #### 响应数据：

  ##### 成功：

  ```
  {
    "msg": "用户名可用",
    "data": null,
    "code": "200"
  }
  ```

  ##### 失败：

  ```
  {
    "msg": "用户名已存在",
    "data": null,
    "code": "400"
  }
  ```

  

- ## 2.注册

  POST:http://localhost:9090/user/register

  #### 请求：

  ```
  {
    "username": "user5598",
    "email": "277526670@qq.com",
    "passwd": "2004"
  }
  ```

  

  ##### 成功：

  ```
  {
      "msg": "注册成功",
      "data": "625e8a285187483d9c1f06e359b57b52",（这个是id，存到wx.storage里面）
      "code": "200"
  }
  ```

  ##### 失败：

  ```
  其他状态码都是失败
  {
      "msg": "用户名已被注册，请更换",
      "data": null,
      "code": "400"
  }
  ```

  

- ## 3.填写信息

POST:http://localhost:9090/user/completeProfile

#### 请求：

```
{
  "id": "071563acc1004860a77393b35f73e635",
  "gender": 1,
  "birth": "2009-01-01",
  "phone": "15135783764",
  "weight": 65.0,
  "height": 160.0,
  "target_weight": 50.0,
  "hand_length": 20,
  "nickname":"ying",
  "activity_level":1
}
```



##### 成功：

```
{
    "msg": "信息填写成功",
    "data": null,
    "code": "200"
}
```

##### 失败：

```
{
    "msg": "信息填写失败",
    "data": null,
    "code": "400"
}
```

- ## 4.登录

  

POST:http://localhost:9090/user/login

#### 请求：

```
{
  "username": "user2",
  "passwd": "123456"
}
```



##### 成功：

```
{
    "msg": "登录成功",
    "data": {
        "id": "071563acc1004860a77393b35f73e635",
        "username": "user2",
        "passwd": null,
        "gender": 1,
        "birth": "2009-01-01",
        "email": "277526670@qq.com",
        "phone": "15135783764",
        "height": 160.0,
        "weight": 65.0,
        "level": 1,
        "experience": 0,
        "nickname": "ying",
        "hand_length": 20.0,
        "exp_threshold": 2000,
        "target_weight": 50.0,
        "activity_level": 1
    },
    "code": "200"
}
```

##### 失败：

```
{
    "msg": "系统错误",
    "data": null,
    "code": "500"
}
```

